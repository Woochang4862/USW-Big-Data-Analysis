# Train/Test 데이터셋 분포 비교 분석 결과

## 분석 개요
Train과 Test 데이터셋이 비슷한 특징을 띄는지 확인하기 위한 통계적 비교 분석을 수행했습니다.

## 주요 결과 요약

### ✅ 결론: Train과 Test 데이터셋이 매우 유사함

**모든 주요 변수에서 Train/Test 간 통계적으로 유의한 차이가 없습니다 (p > 0.05).**

## 1. 데이터 크기

| 구분 | 샘플 수 | 비율 |
|------|---------|------|
| Train | 8,691명 | 80.0% |
| Test | 2,173명 | 20.0% |
| **총계** | **10,864명** | **100%** |

## 2. 타깃 변수 분포 비교

### 분포 비율

| 타깃 | Train (%) | Test (%) | 차이 |
|------|-----------|----------|------|
| 결핍 (0) | 40.17 | 40.17 | 0.01% |
| 충분 (1) | 59.83 | 59.83 | -0.01% |

### 통계적 검정
- **카이제곱 검정**: χ² = 0.0000, **p-value = 1.0000**
- **결과**: Train/Test 간 타깃 분포에 유의한 차이 없음

**→ 타깃 변수 분포가 거의 동일하게 유지됨**

## 3. 인구통계 변수 비교

### 연속형 변수 (t-test 결과)

| 변수 | Train 평균 | Test 평균 | 차이 | p-value | 유의차 |
|------|-----------|-----------|------|---------|--------|
| 연령 | 53.46 | 53.97 | 0.51 | 0.2135 | 없음 |
| 성별 | 1.57 | 1.56 | -0.01 | 0.6044 | 없음 |
| 소득4분위 | 2.52 | 2.49 | -0.03 | 0.3217 | 없음 |
| 교육수준 | 2.99 | 2.95 | -0.04 | 0.1222 | 없음 |
| 지역 | 7.73 | 7.94 | 0.20 | 0.0928 | 없음 |

**모든 인구통계 변수에서 유의한 차이 없음**

## 4. 주요 임상 지표 비교

| 지표 | Train 평균 | Test 평균 | 차이 | 차이(%) | p-value | 유의차 |
|------|-----------|-----------|------|---------|---------|--------|
| BMI | 24.06 | 24.09 | 0.03 | 0.13% | 0.7248 | 없음 |
| 공복혈당 (mg/dL) | 101.30 | 100.86 | -0.44 | -0.43% | 0.4293 | 없음 |
| HbA1c (%) | 5.63 | 5.62 | -0.01 | -0.21% | 0.5343 | 없음 |
| 총콜레스테롤 (mg/dL) | 186.57 | 185.63 | -0.94 | -0.50% | 0.3329 | 없음 |
| HDL (mg/dL) | 57.27 | 56.98 | -0.28 | -0.50% | 0.4450 | 없음 |
| 중성지방 (mg/dL) | 126.23 | 128.88 | 2.65 | 2.10% | 0.2498 | 없음 |
| LDL (mg/dL) | 113.23 | 112.08 | -1.14 | -1.01% | 0.1953 | 없음 |

**모든 임상 지표에서 유의한 차이 없음**

### 주요 발견
- 평균값 차이가 매우 작음 (대부분 1% 미만)
- 중성지방만 약간 높지만 통계적으로 유의하지 않음

## 5. 영양 섭취량 비교

| 영양소 | Train 평균 | Test 평균 | 차이 | 차이(%) | p-value | 유의차 |
|--------|-----------|-----------|------|---------|---------|--------|
| 1일 에너지 (kcal) | 1,777.68 | 1,792.32 | 14.65 | 0.82% | 0.4430 | 없음 |
| 단백질 (g) | 67.20 | 68.17 | 0.97 | 1.44% | 0.2530 | 없음 |
| 지방 (g) | 46.87 | 46.55 | -0.32 | -0.68% | 0.6944 | 없음 |
| 탄수화물 (g) | 255.44 | 258.05 | 2.60 | 1.02% | 0.3253 | 없음 |
| 칼슘 (mg) | 494.42 | 502.86 | 8.45 | 1.71% | 0.2485 | 없음 |
| 비타민D (μg) | 2.93 | 3.04 | 0.11 | 3.82% | 0.3784 | 없음 |
| 비타민C (mg) | 67.97 | 68.87 | 0.90 | 1.33% | 0.6941 | 없음 |

**모든 영양 섭취량에서 유의한 차이 없음**

### 주요 발견
- 평균값 차이가 매우 작음 (대부분 2% 미만)
- 비타민D만 약간 높지만 통계적으로 유의하지 않음

## 6. 결측률 비교

| 변수 | Train 결측률 (%) | Test 결측률 (%) | 차이 |
|------|-----------------|----------------|------|
| HE_BMI | 1.83 | 1.47 | -0.36% |
| HE_glu | 0.00 | 0.00 | 0.00% |
| HE_HbA1c | 0.26 | 0.14 | -0.13% |
| HE_chol | 0.00 | 0.00 | 0.00% |
| HE_TG | 0.00 | 0.00 | 0.00% |
| N_EN | 4.02 | 4.14 | 0.13% |
| N_PROT | 4.02 | 4.14 | 0.13% |
| N_VITD | 4.02 | 4.14 | 0.13% |
| N_CA | 4.02 | 4.14 | 0.13% |

**결측률도 매우 유사함**

## 7. 통계적 유의성 요약

### 검정 결과
- **유의한 차이가 있는 변수 (p ≤ 0.05)**: **0개**
- **유의한 차이가 없는 변수 (p > 0.05)**: **14개**

### 검정된 변수 목록
1. 타깃 변수 (HE_D3_label)
2. 연령 (age)
3. 성별 (sex)
4. 소득4분위 (incm)
5. 교육수준 (edu)
6. 지역 (region)
7. BMI (HE_BMI)
8. 공복혈당 (HE_glu)
9. HbA1c (HE_HbA1c)
10. 총콜레스테롤 (HE_chol)
11. HDL (HE_HDL_st2)
12. 중성지방 (HE_TG)
13. LDL (HE_LDL_drct)
14. 1일 에너지 (N_EN)
15. 단백질 (N_PROT)
16. 지방 (N_FAT)
17. 탄수화물 (N_CHO)
18. 칼슘 (N_CA)
19. 비타민D (N_VITD)
20. 비타민C (N_VITC)

## 8. 시각화 파일

생성된 시각화 파일:
1. **`train_test_target_comparison.png`**
   - 타깃 변수 분포 비교 (빈도 및 비율)

2. **`train_test_distribution_comparison.png`**
   - 주요 변수 분포 비교 (히스토그램)
   - 연령, BMI, 공복혈당, 총콜레스테롤, HDL, 1일 에너지

3. **`train_test_statistical_significance.png`**
   - 통계적 유의성 검정 결과 (p-value 비교)

## 9. 결론 및 권장사항

### ✅ 주요 결론

1. **데이터 분할 품질 우수**
   - Train과 Test 데이터셋이 매우 유사한 특징을 띄고 있음
   - 모든 주요 변수에서 통계적으로 유의한 차이가 없음

2. **타깃 변수 분포 일치**
   - 타깃 변수 분포가 거의 동일 (차이 0.01%)
   - 클래스 불균형이 Train/Test에서 동일하게 유지됨

3. **인구통계 특성 유사**
   - 연령, 성별, 소득, 교육수준, 지역 분포가 유사함

4. **임상 지표 유사**
   - 모든 주요 임상 지표의 평균값이 거의 동일함

5. **영양 섭취 패턴 유사**
   - 영양 섭취량도 Train/Test 간 차이가 미미함

### 📊 모델링 권장사항

1. **일반적인 모델링 접근 가능**
   - Train/Test 분포가 유사하므로 표준적인 머신러닝 파이프라인 적용 가능
   - 특별한 데이터 불일치 조정이 필요하지 않음

2. **교차검증 신뢰도**
   - Train 데이터로 수행한 교차검증 결과가 Test 성능을 잘 예측할 것으로 기대됨

3. **일반화 성능**
   - Test 데이터가 Train과 유사한 분포를 보이므로 모델의 일반화 성능이 좋을 것으로 예상됨

4. **주의사항**
   - 모든 변수에서 차이가 없지만, 일부 변수(중성지방, 비타민D)는 약간의 차이를 보임
   - 모델 학습 시 이러한 미세한 차이도 고려할 수 있으나, 통계적으로는 유의하지 않음

### 🎯 최종 평가

**Train과 Test 데이터셋의 분포가 매우 유사하며, 데이터 분할이 잘 이루어졌습니다.**
**모델 학습에 적합한 데이터셋입니다.**

---

**분석 일시**: 2024년
**분석 스크립트**: `experiments/train_test_comparison.py`
**생성된 시각화**: `results/figures/train_test_*.png`


